@font-face {
  font-family: "ArcadeClassic";
  src: local("Courier New"), local("monospace");
}

/*color palette*/
:root{
  --bg: #525DA9;
  --accent: #FDEE69;
  --accent-2: #DE5022;
  --redlink: #AB350F;
  --white: #FFFFFF;
  --black: #212121;
  --card-bg: rgba(255,255,255,0.03);
}

/* Put near the end of styles.css (after the big media query) */

/* 1) Shift the duel modal to the right when active */
body.duel-open .center-stage {
  transform: translateX(6px) !important; /* tweak px until it's perfect */
}

/* 2) Prevent inner-centering from neutralizing the visual shift.
   This keeps layout intact but avoids forcing everything back to center
   while duel is open. */
body.duel-open .bar-overlay > div,
body.duel-open .bar-overlay .duel-slot,
body.duel-open .bar-overlay .slot-poster-wrap {
  margin-left: 0 !important;
  margin-right: 0 !important;
}


/*base*/
*{box-sizing:border-box;margin:0;padding:0}
html,body,#root{height:100%}
body{
  background: linear-gradient(180deg,var(--bg), #3f3f8a 60%);
  color:var(--white);
  font-family: "ArcadeClassic", "Segoe UI", Roboto, sans-serif;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* persistent background GIF under navbar (covers entire viewport) */
.bg-gif {
  position: fixed;
  /*top: 64px;*/
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -1;
  background-image: url('/constant.gif');
  background-size: cover;
  background-position: center;
  opacity: 0.18;
  pointer-events: none;
}

/*navbar*/
.navbar{
  position:fixed;
  top:0;left:0;right:0;
  height:64px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 20px;
  background:rgba(0,0,0,0.55);
  border-bottom: 1px solid rgba(255,255,255,0.03);
  z-index:60;
  box-shadow: 0 4px 20px rgba(0,0,0,0.4);
}

/*branding */
.brand{
  display:flex;
  align-items:center;
  gap:12px;
  font-weight:700;
}

/* logo image */
.brand img.logo-img {
  width:40px;
  height:40px;
  border-radius:6px;
  object-fit:contain;
  display:block;
}

/* brand textual block */
.brand-text { display:flex; flex-direction:column; line-height:1; }
.brand-title { font-size:14px; color:var(--accent); font-weight:900; }

/* nav area holding icons and buttons */
.navRight { display:flex; align-items:center; gap:12px; }
.navLinks{display:flex;gap:12px;align-items:center}

/* nav-icon */
.nav-icon {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:6px 8px;
  font-size:22px;
  color:var(--white);
  text-decoration:none;
  border-radius:6px;
  background: transparent;
  cursor:pointer;
  border: none;
  transition: transform 160ms ease, color 160ms ease, background 160ms ease;
}
.nav-icon:hover {
  color: var(--accent);
  transform: scale(1.06);
  background: rgba(255,255,255,0.03);
}
.nav-icon img.icon-gif { width:29px; height:29px; display:block; }

.nav-signup {
  background: #000;
  color: var(--white);
  padding:6px 10px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.06);
  cursor:pointer;
  font-weight:700;
}
.nav-login {
  background: linear-gradient(90deg,var(--accent), #ffd85a);
  color:var(--black);
  padding:6px 10px;
  border-radius:8px;
  border: none;
  cursor:pointer;
  font-weight:900;
}

/* hamburger container */
.hamburger {
  width:44px;
  height:36px;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction: column;
  border-radius:8px;
  cursor:pointer;
  position:relative;
  background: transparent;
  border:1px solid transparent;
  color:var(--white);
  padding: 4px 6px;
}
.hamburger .bar { display:block; width:22px; height:3px; background:currentColor; margin:3px 0; border-radius:2px; box-shadow: 0 1px 0 rgba(0,0,0,0.25); }
.hamburger::after{
  content: "";
  position: absolute;
  top: 0;
  left: -60%;
  width: 60%;
  height: 100%;
  transform: skewX(-20deg);
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.22) 50%, rgba(255,255,255,0) 100%);
  pointer-events:none;
  opacity:0.7;
  animation: glareMove 2.6s linear infinite;
}
@keyframes glareMove { 0% { left: -60%; } 100% { left: 160%; } }

/* dropdown panel */
.dropdown-panel {
  position: absolute;
  right: 12px;
  top: 64px;
  width:220px;
  background: linear-gradient(180deg, rgba(82,93,169,0.82), rgba(33,33,33,0.45));
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,0.04);
  padding:10px;
  border-radius:8px;
  z-index:70;
  box-shadow: 0 8px 30px rgba(0,0,0,0.45);
  box-sizing: border-box;
}
.dropdown-panel .modal-btn { white-space: normal; word-break: break-word; line-height: 1.25; padding: 10px; text-decoration: none; }
#patreon { text-decoration: none; color:var(--accent-2); }

/* click overlay */
.click-overlay { position: fixed; inset: 0; z-index: 65; background: transparent; }

/* page wrapper */
.page-wrapper { position: relative; z-index: 50; }

/*main container*/
.app-container{padding-top:88px; max-width:1200px;margin:0 auto;padding-left:20px;padding-right:20px; position: relative; z-index: 50}

/*heading style*/
.h1-retro{
  font-size:36px;
  color:var(--accent);
  text-shadow: 0 2px 0 rgba(0,0,0,0.6);
  letter-spacing:2px;
  font-weight:900;
  margin-bottom:8px;
  font-family: "ArcadeClassic", monospace;
}

/*subtitle*/
.subtitle{ color:rgba(255,255,255,0.9); margin-bottom:18px; font-size:15px; }

/*card*/
.card{
  position: relative;
  z-index: 55;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.02));
  border-radius:10px;
  padding:18px;
  border:1px solid rgba(255,255,255,0.04);
  box-shadow: 0 4px 30px rgba(0,0,0,0.35);
}

/*video section*/
.video-section{ margin-top:28px; height:360px; display:flex; align-items:center; justify-content:center; position:relative; z-index: 10; }
.video-section video{ width:100%; height:100%; object-fit:cover; border-radius:10px; opacity:0.95; filter: contrast(0.95) saturate(0.9); }

/*duel button stylized (generic)*/
.duel-button{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  background: linear-gradient(90deg,var(--accent), #ffd85a);
  color:var(--black);
  border-radius:12px;
  padding:14px 26px;
  font-weight:900;
  font-size:18px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
  border:4px solid rgba(0,0,0,0.15);
  cursor:pointer;
}

/*support section pinned bottom */
.support { position: fixed; left: 0; right: 0; bottom: 0; z-index: 55; padding: 12px 20px; display:flex; justify-content:center; }
.support .card { width: calc(100% - 40px); max-width: 1200px; display:flex; align-items:center; gap:12px; }
.support .left, .support .right { display:flex; align-items:center; gap:8px; }
.support .left { justify-content:flex-start; }
.support .right { margin-left:auto; justify-content:flex-end; gap:8px; }

/* small text */
.small{font-size:13px;color:rgba(255,255,255,0.8)}

/*profile modal (side) - unchanged; used elsewhere */
.profile-modal {
  position:fixed;
  left:-340px;
  top:64px;
  height:calc(100% - 64px);
  width:320px;
  background: linear-gradient(180deg, rgba(82,93,169,0.82), rgba(33,33,33,0.45));
  backdrop-filter: blur(6px);
  border-right:1px solid rgba(255,255,255,0.04);
  padding:18px;
  transition: left 0.32s ease;
  z-index:75;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.profile-modal.open { left:0; }

/* profile knob */
.profile-knob {
  position:fixed;
  left:0;
  top:calc(50% - 30px);
  transform:translateX(-18px);
  z-index:76;
  background:var(--accent);
  color:var(--black);
  width:36px;
  height:60px;
  display:flex;align-items:center;justify-content:center;
  border-radius:0 8px 8px 0;
  cursor:pointer;
  font-weight:900;
  box-shadow: 0 8px 30px rgba(0,0,0,0.25);
  border: 1px solid rgba(0,0,0,0.08);
}
.profile-knob::after{
  content: "";
  position: absolute;
  top: -10%;
  left: -40%;
  width: 120%;
  height: 120%;
  transform: skewX(-20deg);
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.45) 50%, rgba(255,255,255,0) 100%);
  pointer-events:none;
  opacity:0.85;
  animation: glareMove 1.4s linear infinite;
}

/* pfp helper (used by ProfileModal) */
.pfp {
  width:96px;height:96px;border-radius:999px;border:3px solid rgba(255,255,255,0.08);overflow:hidden;
  display:flex;align-items:center;justify-content:center;background:#222;
}
.pfp img{width:100%;height:100%;object-fit:cover;border-radius:999px;}

/*modal buttons*/
.modal-btn{
  width:100%;
  padding:10px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.06);
  background:transparent;
  color:var(--white);
  cursor:pointer;
  text-align:left;
  white-space: normal;
  line-height: 1.25;
}

/*levels*/
.level-bar { display:flex; gap:6px; flex-wrap:wrap; }
.level-pill { padding:6px 8px; border-radius:6px; background:rgba(0,0,0,0.25); border:1px solid rgba(255,255,255,0.03); font-size:13px; }

/*forms*/
.form { display:flex; flex-direction:column; gap:10px; margin-top:14px; }
.input { padding:10px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); background:rgba(0,0,0,0.2); color:var(--white); }
.btn { padding:10px 12px; border-radius:8px; background:var(--accent); color:var(--black); font-weight:900; cursor:pointer; border:none; }

/* small mobile/UX tweaks */
@media (max-width:800px){
  .support{flex-direction:column;align-items:flex-start}
  .video-section{height:260px}
  .profile-modal{width:86%; left:-92%}
  .brand { display:none; }
  .navRight { width:100%; display:flex; justify-content:center; align-items:center; gap:12px; padding:0 12px; }
  .navLinks { margin:0; justify-content:center; display:flex; gap:12px; align-items:center; }
  .nav-signup, .nav-login { display:none !important; }
  .dropdown-panel {
    position: fixed;
    top: 64px;
    right: 12px;
    left: auto;
    width: min(320px, 86vw);
    max-width: 92vw;
    padding: 12px;
    border-radius: 10px;
    z-index: 140;
    box-shadow: 0 10px 40px rgba(0,0,0,0.55);
  }
  .dropdown-panel .modal-btn { padding: 12px; font-size: 15px; text-align: left; }
}

/* Landing-specific push down for heading */
.landing .h1-retro { margin-top: 36px; }

/* -------------------------
   Custom scrollbar for Duel
   (single rectangular light purple node)
   Targets only container with class .profiles-scroll
   ------------------------- */
.profiles-scroll {
  scrollbar-width: thin;
  scrollbar-color: #B19CD9 transparent; /* Firefox */
}

/* WebKit browsers */
.profiles-scroll::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
.profiles-scroll::-webkit-scrollbar-track {
  background: transparent;
}
.profiles-scroll::-webkit-scrollbar-thumb {
  background-color: #B19CD9; /* light purple */
  border-radius: 6px;        /* slightly rounded rectangular node */
  border: 1px solid rgba(0,0,0,0.08);
  min-height: 32px;
}
/* subtle hover */
.profiles-scroll::-webkit-scrollbar-thumb:hover {
  background-color: #C8A2C8;
}

/* Optional: ensure scrollbars don't get dramatic shadows */
.profiles-scroll::-webkit-scrollbar-thumb:active { filter: none; }

/* Keep it discreet on very small screens */
@media (max-width:480px){
  .profiles-scroll::-webkit-scrollbar { width: 6px; }
  .profiles-scroll::-webkit-scrollbar-thumb { border-radius:4px; }
}

/* ===========================
   Profile page: compact stack bar
   (added for ProfilePage.jsx — compact version of the Edit Stack bar)
   =========================== */

/* clickable black bar container (shorter than the main editstack bar) */
.profile-stack-block {
  width: 100%;
  background: #101221;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.02);
  box-shadow: 0 8px 30px rgba(0,0,0,0.45);
  padding: 14px;
  cursor: pointer;
  transition: transform 160ms ease, box-shadow 160ms ease;
}
.profile-stack-block:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.55);
}

/* inner overlay area to contain slots (keeps parity with editstack overlay sizing) */
.profile-stack-overlay {
  width: 100%;
  max-width: 820px;
  margin: 0 auto;
  color: var(--white);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* reuse similar slot row layout */
.profile-stack-block .slots-row {
  display: flex;
  gap: 10px;
  width: 100%;
  justify-content: center;
  align-items: center;
  padding: 6px 4px;
}

/* slightly smaller square slots for compact bar */
.profile-stack-block .movie-slot {
  width: 120px;
  max-width: 22%;
  min-width: 84px;
  aspect-ratio: 1 / 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* empty square style (compact) */
.profile-stack-block .slot-empty {
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.45);
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.03);
  display: flex;
  align-items: center;
  justify-content: center;
  color: rgba(255,255,255,0.9);
}

/* filled slot - poster fills the square */
.profile-stack-block .slot-filled {
  width: 100%;
  height: 100%;
  position: relative;
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: 0 8px 24px rgba(0,0,0,0.45);
}
.profile-stack-block .slot-poster {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* make the compact bar responsive */
@media (max-width: 920px) {
  .profile-stack-block .movie-slot { width: 22%; min-width: 72px; }
}
@media (max-width: 480px) {
  .profile-stack-block .movie-slot { width: 22%; min-width: 64px; }
  .profile-stack-block { padding: 10px; border-radius: 10px; }
}

/*fixing background issue*/
/* === Fix for stray purple "bar" at bottom of pages ===
   Place at the end of styles.css to override earlier rules.
   Ensures background GIF covers viewport and page containers are transparent.
*/

html, body, #root {
  height: 100%;
  min-height: 100%;
  margin: 0;
  padding: 0;
}

/* Ensure the site background is only provided by body (gradient) and the bg-gif layer */
body {
  /* keep your existing gradient on body */
  background: linear-gradient(180deg, var(--bg), #3f3f8a 60%);
  /* make sure there's no accidental repeat/extra backgrounds */
  background-repeat: no-repeat;
  background-attachment: fixed;
}

/* the background GIF layer must cover the entire viewport and be behind everything */
.bg-gif {
  position: fixed;
  top: 64px; /* below navbar */
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  background-image: url('/constant.gif');
  background-size: cover;
  background-position: center;
  opacity: 0.18;
  pointer-events: none;
}

/* Make main wrappers transparent so underlying body gradient stays consistent */
.page-wrapper,
.app-container,
.card,
.center-stage,
.editstack-root,
.profile-modal,
.profile-stack-block {
  background: transparent !important;
}

/* But preserve card visual look via inner overlays — keep existing .card styles intact by using .card > .inner if needed.
   If you want the existing .card gradient retained, remove .card from above rule and only target wrappers. */

/* Force top-level content to at least fill the viewport so you don't get a "short-content" purple rectangle */
.page-wrapper,
.app-container {
  min-height: calc(100vh - 88px); /* 88px accounts for navbar; adjust to your layout */
  box-sizing: border-box;
}

/* Defensive: if some component is accidentally using var(--bg) as a background, tone it down */
*[style*="var(--bg)"],
*[style*="background: var(--bg)"] {
  background: transparent !important;
}

/* If any element is accidentally pinned to bottom with the purple color, hide it:
   (this is conservative — will only affect elements that match the pattern and prevents accidental blocks) */
div[style*="#525DA9"], section[style*="#525DA9"] {
  background: transparent !important;
}

/* mobile tweak keep consistent */
@media (max-width: 800px) {
  .page-wrapper, .app-container { min-height: calc(100vh - 88px); }
}

/* Add these near the bottom of styles.css (or replace the previous .support fixed rules) */

/* app root becomes a column so footer is pushed to bottom when app-container grows */
.app-root {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* make the main content fill available space so footer sits after it */
.app-container {
  flex: 1 1 auto; /* already has styles — ensure flex:1 so it expands */
}

/* Support footer (in-flow) — use normal flow instead of fixed positioning */
.support {
  position: static; /* not fixed anymore */
  left: auto;
  right: auto;
  bottom: auto;
  z-index: 50;
  padding: 12px 20px;
  display: flex;
  justify-content: center;
}

/* spacing for the footer container element */
.support-footer {
  margin-top: 28px; /* small separation from page content */
}

/* keep card look for the inner wrapper (you already have .support .card rules) */
.support .card {
  width: calc(100% - 40px);
  max-width: 1200px;
  display: flex;
  align-items: center;
  gap: 12px;
}

/* center-stage (already defined in your CSS, included for safety) */
.center-stage { width: 100%; max-width: 1100px; position: relative; display:flex; align-items:center; justify-content:center; padding:24px; }
.bar-block { width: 100%; height: 690px; background: #101221; border-radius: 14px; box-shadow: 0 8px 40px rgba(0,0,0,0.6); border: 1px solid rgba(255,255,255,0.02); position: absolute; top: 24px; left: 0; right: 0; z-index: 10; }
.bar-overlay { position: relative; width: calc(100% - 80px); margin: 0 40px; z-index: 40; color: var(--white); display: flex; flex-direction: column; align-items: center; gap: 16px; padding: 18px 10px 20px; text-align: center; }

/* !!!!!!!!!!!!!!!!!!!!!!!! */
@media (min-width: 1080px) and (min-height: 2340px) {
  /* Make root fill viewport and center everything */
  .duel-play-root {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    min-height: 100vh !important;
    padding-top: 0 !important; /* avoid extra top padding interfering with centering */
    padding-bottom: 0 !important;
  }


  /* Constrain the stage width (like the navbar) and center vertically */
  .center-stage {
    width: 100% !important;
    max-width: 820px !important;     /* narrow the content column so the bar is centered like navbar */
    margin: 0 auto !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 32px !important;
    box-sizing: border-box !important;
    min-height: calc(100vh - 160px) !important; /* keep some breathing room from navbar/support */
  }

  /* Make the black bar become a centered, non-absolute block so its full height shows */
  .bar-block {
    position: relative !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 auto !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
    height: auto !important; /* allow content to define height */
    max-height: calc(100vh - 260px) !important; /* keep it visible with some vertical margin */
    overflow: hidden !important;
    padding: 18px !important;
  }

  /* Ensure overlay uses available space, scrolls if needed, and is centered */
  .bar-overlay {
    position: relative !important;
    width: calc(100% - 40px) !important; /* keep some horizontal breathing room */
    max-height: calc(100vh - 320px) !important;
    margin: 0 20px !important;
    padding: 20px !important;
    box-sizing: border-box !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    overflow: auto !important; /* allow inner scrolling if content exceeds max-height */
  }

  /* Center rows and limit their width so slot rows don't drift right */
  .bar-overlay > div,
  .bar-overlay .duel-slot,
  .bar-overlay .slot-poster-wrap {
    margin-left: auto !important;
    margin-right: auto !important;
  }
  .bar-overlay > div[style*="display: flex"] {
    max-width: 640px !important;
    width: 100% !important;
    justify-content: center !important;
  }

  /* Small tweak to ensure BEGIN modal remains top and centered on huge screens */
  .begin-overlay { align-items: center !important; justify-content: center !important; }
}

/* HIDE NAVBAR when duel modal is active */
body.duel-open .navbar {
  display: none !important;
}

